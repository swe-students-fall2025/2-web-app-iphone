<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Home • Pets</title>
<style>
  :root{ --bg:#f6f6f6; --card:#ffffff; --muted:#d9d9d9; --text:#222; }
  html,body{ margin:0; padding:0; background:var(--bg); color:var(--text);
    font:16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif }
  .wrap{ max-width:680px; margin:0 auto; padding:16px }
  .section{ background:var(--card); border-radius:14px; box-shadow:0 1px 6px rgba(0,0,0,.06); padding:14px }
  .header{ background:var(--muted); border-radius:10px; padding:12px 14px; font-size:1.6rem; font-weight:800 }

  .search{ background:var(--muted); border-radius:10px; padding:10px 12px; margin:12px 0; text-align:center; font-size:1.3rem }
  .chips{ display:flex; flex-wrap:wrap; gap:10px; margin-bottom:10px }
  .chip{ border:0; background:#e9e9e9; border-radius:10px; padding:8px 14px }
  .chip.active{ outline:2px solid #000 }

  .card{ background:#ddd; border-radius:12px; padding:12px; margin:16px 0;
         display:grid; grid-template-columns:88px 1fr auto; gap:14px; align-items:center }
  .photo{ background:#eee; border-radius:8px; display:grid; place-items:center; height:88px; font-size:.9rem }
  .meta{ font-size:.98rem }
  .meta .name{ font-weight:700 }
  .meta .line{ margin-top:6px }
  .actions{ display:flex; gap:8px; align-items:center }
  .btn{ border:0; background:#e9e9e9; border-radius:8px; padding:8px 12px; cursor:pointer; text-decoration:none; color:inherit }
  .bottom-nav{ position:sticky; bottom:0; background:#ececec; margin-top:18px; border-radius:12px; padding:12px }
  .tabs{ display:flex; justify-content:space-between; gap:10px }
  .tabs button{ flex:1; border:0; background:#e3e3e3; border-radius:10px; padding:10px; cursor:pointer }
  .add-form{ display:flex; gap:8px; margin-top:16px }
  .add-form input{ flex:1; padding:10px 12px; border-radius:8px; border:1px solid #ddd }
  .add-form button{ white-space:nowrap }
  @media (min-width:768px){
    .wrap{ padding:24px }
    .card{ grid-template-columns:110px 1fr auto }
    .photo{ height:110px }
  }
</style>
</head>
<body>
  <div class="wrap">
    <div class="section" aria-labelledby="homeTitle">
      <div id="homeTitle" class="header">Home</div>

      <div class="search" role="search">Search for pets....</div>

      <div class="chips" role="tablist" aria-label="Categories">
        <button class="chip active" role="tab" aria-selected="true">Dogs</button>
        <button class="chip" role="tab" aria-selected="false">Cats</button>
        <button class="chip" role="tab" aria-selected="false">SmallPet</button>
        <button class="chip" role="tab" aria-selected="false">NearMe</button>
      </div>

      {% for animal in animals %}
      <article class="card">
        <div class="photo" aria-hidden="true">
          {% if animal.photo_url %}
            <img src="{{ animal.photo_url }}" alt="Photo of {{ animal.name }}" style="width:100%;height:100%;object-fit:cover;border-radius:8px;" />
          {% else %}
            Pet Picture
          {% endif %}
        </div>

        <div class="meta">
          <div class="name">
            {{ animal.name }}
            {% if animal.age %} — {{ animal.age }}{% endif %}
            {% if animal.breed %} — {{ animal.breed }}{% endif %}
          </div>
          <div class="line">
            {{ animal.distance or "—" }}{% if animal.distance %} mi{% endif %}
            • {{ animal.shelter or "Local Shelter" }}
          </div>
        </div>

        <div class="actions">
          <!-- NEW: Details link to details page -->
          <a class="btn" href="/details/{{ animal._id }}" aria-label="View details for {{ animal.name }}">Details →</a>

          <!-- Existing delete action -->
          <form method="POST" action="/delete/{{ animal._id }}">
            <button class="btn" type="submit" aria-label="Delete {{ animal.name }}">Delete</button>
          </form>
        </div>
      </article>
      {% else %}
      <p>No animals yet. Add one below!</p>
      {% endfor %}

      <!-- Add animal (your server expects only "name") -->
      <form class="add-form" method="POST" action="/add">
        <input type="text" name="name" placeholder="Animal name" required />
        <button class="btn" type="submit">Add Animal</button>
      </form>
    </div>

    <nav class="bottom-nav" aria-label="Bottom navigation">
      <div class="tabs">
        <button>Home</button>
        <button>Favorites</button>
        <button>Messages</button>
        <button>Profile</button>
      </div>
    </nav>
  </div>
</body>
</html>
